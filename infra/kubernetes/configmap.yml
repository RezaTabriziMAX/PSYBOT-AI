apiVersion: v1
kind: ConfigMap
metadata:
  name: nuttoo-config
  namespace: nuttoo
  labels:
    app.kubernetes.io/name: nuttoo
data:
  NODE_ENV: "production"
  PORT: "8080"
  WEB_PORT: "80"

  # Solana
  SOLANA_CLUSTER: "mainnet-beta"
  SOLANA_COMMITMENT: "confirmed"
  SOLANA_RPC_URL: "https://YOUR_SOLANA_RPC_URL"

  # Database
  DATABASE_HOST: "postgres.default.svc.cluster.local"
  DATABASE_PORT: "5432"
  DATABASE_NAME: "nuttoo"

  # Redis (optional)
  REDIS_ENABLED: "true"
  REDIS_HOST: "redis.default.svc.cluster.local"
  REDIS_PORT: "6379"

  # Service URLs (internal)
  API_BASE_URL: "http://nuttoo-api.nuttoo.svc.cluster.local:8080"

  # Feature flags
  ENABLE_OPENAPI: "true"
  ENABLE_METRICS: "true"
  ENABLE_TRACING: "false"

  # Worker tuning
  WORKER_CONCURRENCY: "8"
  WORKER_POLL_INTERVAL_MS: "250"
  WORKER_MAX_RETRIES: "10"

  # Indexer tuning
  INDEXER_POLL_INTERVAL_MS: "500"
  INDEXER_BATCH_SIZE: "200"

  # Agent tuning
  AGENT_TICK_INTERVAL_MS: "1000"

  # Ingestion limits
  INGEST_MAX_REPO_MB: "250"
  INGEST_MAX_FILES: "25000"
  INGEST_TIMEOUT_SEC: "600"

  # Observability
  LOG_FORMAT: "json"
  LOG_LEVEL: "info"
